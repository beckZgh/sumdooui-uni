@import '../styles/variables.scss'  ;

$sd-popup-top          : var(--sd-page-navbar-height, 0);
$sd-popup-z-index      : var(--sd-popup-z-index, $sd-popup-z-index);
$sd-popup-border-radius: var(--sd-popup-border-radius, $sd-border-radius-l);

.sd-popup {
    position: fixed;
    animation-fill-mode: both;
    animation-duration: 0.3s;
    background-color: $sd-white;
    z-index: $sd-popup-z-index;
    box-sizing: border-box;
    overflow: hidden;

    &__header {
        height: 90rpx;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: nowrap;
    }

    &__header-close {
        position: absolute;
        top: 16rpx;
        right: 20rpx;
        width: 60rpx;
        height: 60rpx;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    &__body {
        overflow: hidden;
        width: 100%;
    }

    &__footer-close {
        position: absolute;
        left: 50%;
        bottom: -100rpx;
        width: 60rpx;
        height: 60rpx;
        transform: translate(-50%, 0);
        display: flex;
        justify-content: center;
        align-items: center;
        color: $sd-white;
        z-index: $sd-popup-z-index;

        .sd-icon {
            font-size: 60rpx;
            color: $sd-white;
        }
    }

    &--bottom {
        width: 100%;
        bottom: 0;
        left: 0;
        transform: translateY(100%);
        padding-bottom: env(safe-area-inset-bottom);

        &.is-show {
            animation-name: sd-slide-bottom-in;
        }

        &.is-hidden {
            animation-name: sd-slide-bottom-out;
        }

        &.sd-popup--round {
            border-radius: $sd-popup-border-radius $sd-popup-border-radius 0 0;
        }
    }

    &--top {
        width: 100%;
        top: $sd-popup-top;
        left: 0;
        transform: translateY(-100%);

        &.is-show {
            animation-name: sd-slide-top-in;
        }

        &.is-hidden {
            animation-name: sd-slide-top-out;
        }

        &.sd-popup--round {
            border-radius: 0 0 $sd-popup-border-radius $sd-popup-border-radius;
        }
    }

    &--left,
    &--right {
        width: 75%;
        top: $sd-popup-top,
    }

    &--left {
        bottom: 0;
        left: 0;
        transform: translateX(-100%);
        padding-bottom: env(safe-area-inset-bottom);

        &.is-show {
            animation-name: sd-slide-left-in;
        }

        &.is-hidden {
            animation-name: sd-slide-left-out;
        }
    }

    &--right {
        bottom: 0;
        right: 0;
        transform: translateX(100%);
        padding-bottom: env(safe-area-inset-bottom);

        &.is-show {
            animation-name: sd-slide-right-in;
        }

        &.is-hidden {
            animation-name: sd-slide-right-out;
        }
    }

    &--center {
        top: 50%;
        left: 50%;
        width: 90%;
        transform: translate(-50%, -50%);
        overflow: visible;

        &.is-show {
            visibility: visible;
        }

        &.is-hidden {
            visibility: hidden;
        }

        &.sd-popup--round {
            border-radius: $sd-popup-border-radius;
        }
        &.sd-popup--round .sd-popup__body {
            border-radius: 0 0 $sd-popup-border-radius $sd-popup-border-radius;
        }
    }
}

@keyframes sd-slide-bottom-in {
    from {
        transform: translate3d(0, 100%, 0);
    }
    to {
        transform: translate3d(0, 0, 0);
    }
}

@keyframes sd-slide-bottom-out {
    from {
        transform: translate3d(0, 0, 0);
    }
    to {
        transform: translate3d(0, 100%, 0);
    }
}

@keyframes sd-slide-top-in {
    from {
        transform: translate3d(0, -100%, 0);
    }
    to {
        transform: translate3d(0, 0, 0);
    }
}

@keyframes sd-slide-top-out {
    from {
        transform: translate3d(0, 0, 0);
    }
    to {
        transform: translate3d(0, -100%, 0);
    }
}

@keyframes sd-slide-left-in {
    from {
        transform: translate3d(-100%, 0, 0);
    }
    to {
        transform: translate3d(0, 0, 0);
    }
}

@keyframes sd-slide-left-out {
    from {
        transform: translate3d(0, 0, 0);
    }
    to {
        transform: translate3d(-100%, 0, 0);
    }
}

@keyframes sd-slide-right-in {
    from {
        transform: translate3d(100%, 0, 0);
    }
    to {
        transform: translate3d(0, 0, 0);
    }
}

@keyframes sd-slide-right-out {
    from {
        transform: translate3d(0, 0, 0);
    }
    to {
        transform: translate3d(100%, 0, 0);
    }
}

